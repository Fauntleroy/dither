import{a as p,t as h}from"./disclose-version.CLb51jp1.js";import{p as I,a as w,j as D,h as _,r as C,c as P}from"./runtime.2wxj1Rwg.js";import{d as x}from"./render.FSVS2Fhf.js";import{b as y}from"./this.3ZH0pIBN.js";import{s as k,a as E}from"./store.CmKMH50l.js";import{c as F,a as U}from"./canvas.BRhlmffR.js";import{c as i}from"./store.svelte.Dm0HfkD3.js";var j=h('<div class="filmstrip svelte-bf2yn5"><canvas class="canvas svelte-bf2yn5" width="200" height="3000"></canvas> <button class="download svelte-bf2yn5" type="button">Save â–¿</button></div>');function T(l,e){I(e,!0);const m=k(),d=()=>E(i,"$colorPalette",m);let t;w(()=>{n(e.src);const a=i.subscribe(()=>n(e.src));return()=>{a()}});function n(a){const r=new Image;function g(){const s=t.getContext("2d");if(!s){console.error("Error getting canvas context!");return}s.drawImage(r,0,0);const u=s.getImageData(0,0,t.width,t.height),b=F(u,d());s.putImageData(b,0,0)}r.addEventListener("load",g),r.setAttribute("src",a)}function v(){U(t,e.fileName)}var o=j(),c=D(o);y(c,a=>t=a,()=>t);var f=_(c,2);f.__click=v,C(o),p(l,o),P()}x(["click"]);export{T as default};
